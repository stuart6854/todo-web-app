@page "/tasks/{TaskId}"

@if (Task != null)
{
    <NavigationLock ConfirmExternalNavigation="@ChangesMade"/>

    <MudContainer Class="px-8" MaxWidth="MaxWidth.False">
        <MudText>*Insert some more detailed info for this task. *</MudText>
        <MudGrid>
            <MudItem xs="12">
                <MudPaper Elevation="1" Class="pa-4">
                    <MudText Class="d-flex" Typo="Typo.h5">Task: @Task.Title</MudText>
                </MudPaper>
            </MudItem>
            <MudItem xs="12" sm="12" md="9">
                <MudPaper Elevation="1" Class="pa-4">
                    <MudTextField T="string" Label="Description" Variant="Variant.Outlined" @bind-Value="Task.Description" Lines="6" Immediate="true"/>
                </MudPaper>
            </MudItem>
            <MudItem xs="6" sm="3" md="3">
                <MudPaper Elevation="1" Class="pa-4">
                    <MudCheckBox Label="Completed" Size="Size.Large" @bind-Value="@Task.IsComplete"/>
                </MudPaper>
            </MudItem>
            <MudItem Class="d-flex justify-space-between" xs="12">
                <MudButton Variant="Variant.Filled" Color="Color.Primary" @onclick="UpdateTaskChanges" Disabled="EnableSaveButton">Save Changes</MudButton>
                <MudButton Variant="Variant.Filled" Color="Color.Error" @onclick="OnDeleteTask">Delete Task</MudButton>
            </MudItem>
        </MudGrid>
    </MudContainer>
}