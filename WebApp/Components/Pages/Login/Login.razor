@page "/Login"
@using WebApp.Components.Layout
@layout EmptyLayout

<MudContainer Class="d-flex align-center justify-center mud-width-full" style="height:100vh;">
    <EditForm Model="LoginModel" FormName="Login" OnValidSubmit="HandleLogin">
        <MudCard>
            <DataAnnotationsValidator/>
            <MudCardHeader>
                <MudText Typo="Typo.h5">Login</MudText>
            </MudCardHeader>

            <MudCardContent>
                <MudTextField Label="Username" id="username" @bind-Value="LoginModel.Username" For="() => LoginModel.Username"/>
                <MudTextField Label="Password" id="password" @bind-Value="LoginModel.Password" For="() => LoginModel.Password"/>
            </MudCardContent>

            <MudCardActions>
                <MudButton Class="d-flex flex-grow-1" ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" FullWidth="true" Disabled="@IsBusy">Login</MudButton>
            </MudCardActions>

            <MudDivider DividerType="DividerType.Middle"/>
            
            <MudCardActions>
                <MudButton ButtonType="ButtonType.Button" Variant="Variant.Filled" Color="Color.Tertiary" FullWidth="true" Href="/register">Register</MudButton>
            </MudCardActions>
        </MudCard>
        <MudText Color="Color.Error">@ErrorMessage</MudText>
    </EditForm>
</MudContainer>