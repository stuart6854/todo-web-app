@page "/Register"
@using WebApp.Components.Layout
@layout EmptyLayout

<MudContainer Class="d-flex align-center justify-center mud-width-full" style="height:100vh;">
    <EditForm Model="RegisterModel" FormName="Login" OnValidSubmit="HandleRegister">
        <MudCard Elevation="3">
            <MudLink Class="ps-4 py-2" href="/login">Back to Login</MudLink>

            <MudDivider DividerType="DividerType.Middle"/>
            
            <DataAnnotationsValidator/>
            <MudCardHeader>
                <MudText Typo="Typo.h5">Register</MudText>
            </MudCardHeader>
            <MudCardContent>
                <MudTextField Label="Username" id="username" @bind-Value="RegisterModel.Username" For="() => RegisterModel.Username"/>
                <MudTextField Label="Password" id="password" @bind-Value="RegisterModel.Password" For="() => RegisterModel.Password"/>
            </MudCardContent>

            <MudCardActions>
                <MudButton Class="d-flex flex-grow-1" ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" FullWidth="true" Disabled="@IsBusy">Register</MudButton>
            </MudCardActions>
        </MudCard>
        <MudText Color="Color.Error">@ErrorMessage</MudText>
    </EditForm>
</MudContainer>